<form [formGroup]="courseForm" (ngSubmit)="onSubmit(courseForm)">
    <div class="course">
        <div class="course__form-element">
            <div class="course__form-control control-required">
                <label class="required">Title</label>
                <input type="text" class="course__form-input" formControlName="title">
            </div>
            <span class="course__form-control-error" *ngIf="courseForm.controls.title.hasError('required') && courseForm.controls.title.dirty">
                Please specify the title
            </span>
            <span class="course__form-control-error" *ngIf="courseForm.controls.title.hasError('maxlength') && courseForm.controls.title.dirty">
                The max length for the title is 50 symbols
            </span>
        </div>
        <div class="course__form-element">
            <div class="course__form-control">
                <label class="required">Description</label>
                <textarea class="course__form-input course__form-input-textarea" rows="8" cols="50" formControlName="description"></textarea>
            </div>
            <span class="course__form-control-error" *ngIf="courseForm.controls.description.hasError('required') && courseForm.controls.description.dirty">
                Please specify the description
            </span>
            <span class="course__form-control-error" *ngIf="courseForm.controls.description.hasError('maxlength') && courseForm.controls.description.dirty">
                The max length for the description is 500 symbols
            </span>
        </div>
        <div class="course__form-element">
            <div class="course__form-control">
                <label class="required">Date</label>
                <input type="text" class="course__form-input" formControlName="date">
            </div>
            <span class="course__form-control-error" *ngIf="courseForm.controls.date.hasError('required') && courseForm.controls.date.dirty">
                Please specify the Date
            </span>
            <span class="course__form-control-error" *ngIf="courseForm.controls.date.hasError('invalidFormat') && courseForm.controls.date.dirty">
                Invalid Format Please Use dd/MM/yyyy
            </span>
        </div>
        <div class="course__form-element">
            <div class="course__form-control">
                <label for="toprated">Top rated</label>
                <input type="checkbox" class="course__form-input" formControlName="topRated" id="topRated">
            </div>
        </div>
        <div class="course__form-element">
            <div class="course__form-control">
                <label class="required">Duration</label>
                <div class="course__form-duration">
                    <input type="text" class="course__form-input-number" formControlName="duration">
                    <span class="course__form-duration-info">{{courseForm.value.duration | duration}}</span>
                </div>
            </div>

            <span class="course__form-control-error" *ngIf="courseForm.controls.duration.hasError('required') && courseForm.controls.duration.dirty">
                Please specify the Duration
            </span>
            <span class="course__form-control-error" *ngIf="courseForm.controls.duration.hasError('invalidFormat') && courseForm.controls.duration.dirty">
                Invalid Format Please Use numbers
            </span>
        </div>

        <div class="course__form-element">
            <div class="course__form-control">
                <label class="required">Authors</label>
                <app-authors-control class="course__element" formControlName="authors"></app-authors-control>
            </div>
            <span class="course__form-control-error" *ngIf="courseForm.controls.authors.invalid 
                        && courseForm.controls.authors.dirty">
                At least one item should be checked
            </span>
        </div>

        <div class="course__form-actions">
            <input type="button" class="button"(click)="onCancel()" value="Cancel">
            <input type="submit" class="button" value="Save" [disabled]="!courseForm.valid" [class.button-disabled]="!courseForm.valid" />
        </div>
        <!-- <p>Form status: {{ courseForm.value | json }}</p>
        <p>Form status: {{ courseForm.status | json }}</p>
        <p>Touched: {{ courseForm.touched | json }}</p>
        <p>Dirty: {{ courseForm.dirty | json }}</p>
        <p>Valid: {{ courseForm.valid | json }}</p> -->
        <!-- <p>Valid: {{ courseForm.controls | json }}</p> -->
    </div>
</form>